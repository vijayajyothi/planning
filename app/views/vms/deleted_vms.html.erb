<% @users = ['Vijaya Jyothi Kalangi (c)', 'Ashokraj Rajamanikam Devaraju'] %>

<div class="index-container">
  <div class="col-sm-12">
    <div class="form-search col-sm-4">
      <h2>Deleted VM Details</h2></div>
      
    </div>
    <div class ="container" style="height:623px;overflow:auto;float:left;">

      <table class="table table-striped tablesorter">
        <tr>
          <th>VM Name</th>
          <th>VM Host Name</th>
          <th>ESXi Host</th>
          <th>IP</th>
          <th>Connection State</th>
          <th colspan=2> Actions</th>
        </tr>

        <% @vms.each do |vm| %>
        
        <tr style="" id ="complete_tr">

          <td><%= vm.name %></td>
          <td><%= vm.vm_hostname %></td>
          <td><%= my_host(vm.vmhost_id).name %></td>
          <td><%= vm.ip %></td>
          <td><%= vm.connection_state %></td>
          <div class="button"> 

            <td><%= link_to 'Show', vm ,:class => 'btn btn-mini btn-info', :remote=> true%></td>
          </div>
          <!-- <td><%#= link_to 'Edit', edit_vm_path(vm),:class => 'btn btn-mini btn-warning' %></td> -->
          <td><%#= link_to 'Destroy', vm, method: :delete, data: { confirm: 'Are you sure?' } ,:class => 'btn btn-mini btn-danger'%></td>
        </tr>
        <% end %>
        <div class='load-ajax'></div>

      </table>
    </div>
    
    <br />
    
    <script>
    $(function() {
      $('.load-ajax').hide();
      $(document).ajaxStart(function() {
        $('.load-ajax').show();
      });
      $(document).ajaxStop(function() {
        $('.load-ajax').hide();
      });
    });
    </script>

    <style>
    .load-ajax {
      /*float:right;*/
      background-image:url(<%= asset_path 'ajax-loader.gif' %>);
      width:450px;
      height:90px;
      background-position: center;
      background-repeat: no-repeat;
      position: fixed;
      top: 40%;
      left: 40%;
      margin-left: -40px; /* half width of the spinner gif */
      margin-top: -40px; /* half height of the spinner gif */
      text-align:center;
      z-index:0000;
      overflow: auto;
      
    }
    </style>
