!function(t){"use strict";var e=t.tablesorter||{};e.filterFormatter=e.filterFormatter||{},e.filterFormatter.select2=function(i,s,n){var o,r,a=t.extend({cellText:"",match:!0,value:"",multiple:!0,width:"100%"},n),l=i.closest("table")[0].config,h=l.widgetOptions,c=t('<input class="filter" type="hidden">').appendTo(i).bind("change"+l.namespace+"filter",function(){var t=this.value;t=t.replace(/[/()$^]/g,"").split("|"),i.find(".select2").select2("val",t),m()}),d=l.$headers.filter('[data-column="'+s+'"]:last'),u=d.hasClass(h.filter_onlyAvail),p=[],f=a.match?"":"^",g=a.match?"":"$",m=function(){var e=i.find(".select2").select2("val")||a.value||"";c.val(t.isArray(e)&&e.length&&""!==e.join("")?"/("+f+(e||[]).join(g+"|"+f)+g+")/":"").trigger("search").end().find(".select2").select2("val",e),p.length&&p.find(".select2").select2("val",e)},v=function(){r=[],o=e.filter.getOptionSource(l.$table[0],s,u)||[],t.each(o,function(t,e){r.push({id:e,text:e})}),a.data=r};return d.toggleClass("filter-match",a.match),a.cellText&&i.prepend("<label>"+a.cellText+"</label>"),a.ajax&&!t.isEmptyObject(a.ajax)||a.data||(v(),u&&l.$table.bind("filterEnd",function(){v(),i.add(p).find(".select2").select2(a)})),t('<input class="select2 select2-'+s+'" type="hidden" />').val(a.value).appendTo(i).select2(a).bind("change",function(){m()}),l.$table.bind("filterFomatterUpdate",function(){var t=l.$table.data("lastSearch")[s]||"";t=t.replace(/[/()$^]/g,"").split("|"),i.find(".select2").select2("val",t),m(),e.filter.formatterUpdated(i,s)}),l.$table.bind("stickyHeadersInit",function(){p=l.widgetOptions.$sticky.find(".tablesorter-filter-row").children().eq(s).empty(),t('<input class="select2 select2-'+s+'" type="hidden">').val(a.value).appendTo(p).select2(a).bind("change",function(){i.find(".select2").select2("val",p.find(".select2").select2("val")),m()}),a.cellText&&p.prepend("<label>"+a.cellText+"</label>")}),l.$table.bind("filterReset",function(){i.find(".select2").select2("val",a.value||""),setTimeout(function(){m()},0)}),m(),c}}(jQuery);