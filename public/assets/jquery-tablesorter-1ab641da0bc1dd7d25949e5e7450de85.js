/*
 * Metadata - jQuery plugin for parsing metadata from elements
 *
 * Copyright (c) 2006 John Resig, Yehuda Katz, JÃ¶rn Zaefferer, Paul McLanahan
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 */
!function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/(\{.*\})/,single:"metadata"},setType:function(t,e){this.defaults.type=t,this.defaults.name=e},get:function(elem,opts){var data,m,e,attr,settings=$.extend({},this.defaults,opts);if(settings.single.length||(settings.single="metadata"),data=$.data(elem,settings.single))return data;if(data="{}","class"===settings.type)m=settings.cre.exec(elem.className),m&&(data=m[1]);else if("elem"===settings.type){if(!elem.getElementsByTagName)return void 0;e=elem.getElementsByTagName(settings.name),e.length&&(data=$.trim(e[0].innerHTML))}else void 0!==elem.getAttribute&&(attr=elem.getAttribute(settings.name),attr&&(data=attr));return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(t){return $.metadata.get(this[0],t)}}(jQuery),/**!
* TableSorter 2.17.7 - Client-side table sorting with ease!
* @requires jQuery v1.2.6+
*
* Copyright (c) 2007 Christian Bach
* Examples and docs at: http://tablesorter.com
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*
* @type jQuery
* @name tablesorter
* @cat Plugins/Tablesorter
* @author Christian Bach/christian.bach@polyester.se
* @contributor Rob Garrison/https://github.com/Mottie/tablesorter
*/
!function(t){"use strict";t.extend({tablesorter:new function(){function e(){var t=arguments[0],e=arguments.length>1?Array.prototype.slice.call(arguments):t;"undefined"!=typeof console&&"undefined"!=typeof console.log?console[/error/i.test(t)?"error":/warn/i.test(t)?"warn":"log"](e):alert(e)}function i(t,i){e(t+" ("+((new Date).getTime()-i.getTime())+"ms)")}function s(t){for(var e in t)return!1;return!0}function n(e,i,s){if(!i)return"";var n,o=e.config,r=o.textExtraction||"",a="";return a="basic"===r?t(i).attr(o.textAttribute)||i.textContent||i.innerText||t(i).text()||"":"function"==typeof r?r(i,e,s):"function"==typeof(n=_.getColumnData(e,r,s))?n(i,e,s):i.textContent||i.innerText||t(i).text()||"",t.trim(a)}function o(t,i,s,o){for(var r,a=_.parsers.length,l=!1,h="",c=!0;""===h&&c;)s++,i[s]?(l=i[s].cells[o],h=n(t,l,o),t.config.debug&&e("Checking if value was empty on row "+s+", column: "+o+': "'+h+'"')):c=!1;for(;--a>=0;)if(r=_.parsers[a],r&&"text"!==r.id&&r.is&&r.is(h,t,l))return r;return _.getParserById("text")}function r(t){var s,n,r,a,l,h,c,d,u,p,f=t.config,g=f.$tbodies=f.$table.children("tbody:not(."+f.cssInfoBlock+")"),m=0,v="",b=g.length;if(0===b)return f.debug?e("Warning: *Empty table!* Not building a parser cache"):"";for(f.debug&&(p=new Date,e("Detecting parsers for each column")),n={extractors:[],parsers:[]};b>m;){if(s=g[m].rows,s[m])for(r=f.columns,a=0;r>a;a++)l=f.$headers.filter('[data-column="'+a+'"]:last'),h=_.getColumnData(t,f.headers,a),u=_.getParserById(_.getData(l,h,"extractor")),d=_.getParserById(_.getData(l,h,"sorter")),c="false"===_.getData(l,h,"parser"),f.empties[a]=_.getData(l,h,"empty")||f.emptyTo||(f.emptyToBottom?"bottom":"top"),f.strings[a]=_.getData(l,h,"string")||f.stringTo||"max",c&&(d=_.getParserById("no-parser")),u||(u=!1),d||(d=o(t,s,-1,a)),f.debug&&(v+="column:"+a+"; extractor:"+u.id+"; parser:"+d.id+"; string:"+f.strings[a]+"; empty: "+f.empties[a]+"\n"),n.parsers[a]=d,n.extractors[a]=u;m+=n.parsers.length?b:1}f.debug&&(e(v?v:"No parsers detected"),i("Completed detecting parsers",p)),f.parsers=n.parsers,f.extractors=n.extractors}function a(s){var o,r,a,l,h,c,d,u,p,f,g,m,v,b,y=s.config,x=y.$table.children("tbody"),w=y.extractors,k=y.parsers;if(y.cache={},y.totalRows=0,!k)return y.debug?e("Warning: *Empty table!* Not building a cache"):"";for(y.debug&&(g=new Date),y.showProcessing&&_.isProcessing(s,!0),d=0;d<x.length;d++)if(b=[],o=y.cache[d]={normalized:[]},!x.eq(d).hasClass(y.cssInfoBlock)){for(m=x[d]&&x[d].rows.length||0,h=0;m>h;++h)if(v={child:[]},u=t(x[d].rows[h]),p=[new Array(y.columns)],f=[],u.hasClass(y.cssChildRow)&&0!==h)r=o.normalized.length-1,o.normalized[r][y.columns].$row=o.normalized[r][y.columns].$row.add(u),u.prev().hasClass(y.cssChildRow)||u.prev().addClass(_.css.cssHasChild),v.child[r]=t.trim(u[0].textContent||u[0].innerText||u.text()||"");else{for(v.$row=u,v.order=h,c=0;c<y.columns;++c)"undefined"!=typeof k[c]?(r=n(s,u[0].cells[c],c),a="undefined"==typeof w[c].id?r:w[c].format(r,s,u[0].cells[c],c),l="no-parser"===k[c].id?"":k[c].format(a,s,u[0].cells[c],c),f.push(y.ignoreCase&&"string"==typeof l?l.toLowerCase():l),"numeric"===(k[c].type||"").toLowerCase()&&(b[c]=Math.max(Math.abs(l)||0,b[c]||0))):y.debug&&e("No parser found for cell:",u[0].cells[c],"does it have a header?");f[y.columns]=v,o.normalized.push(f)}o.colMax=b,y.totalRows+=o.normalized.length}y.showProcessing&&_.isProcessing(s),y.debug&&i("Building cache for "+m+" rows",g)}function l(e,n){var o,r,a,l,h,c,d,u=e.config,p=u.widgetOptions,f=e.tBodies,g=[],m=u.cache;if(s(m))return u.appender?u.appender(e,g):e.isUpdating?u.$table.trigger("updateComplete",e):"";for(u.debug&&(d=new Date),c=0;c<f.length;c++)if(a=t(f[c]),a.length&&!a.hasClass(u.cssInfoBlock)){for(l=_.processTbody(e,a,!0),o=m[c].normalized,r=o.length,h=0;r>h;h++)g.push(o[h][u.columns].$row),u.appender&&(!u.pager||u.pager.removeRows&&p.pager_removeRows||u.pager.ajax)||l.append(o[h][u.columns].$row);_.processTbody(e,l,!1)}u.appender&&u.appender(e,g),u.debug&&i("Rebuilt table",d),n||u.appender||_.applyWidget(e),e.isUpdating&&u.$table.trigger("updateComplete",e)}function h(t){return/^d/i.test(t)||1===t}function c(s){var n,o,r,a,l,c,d,p=s.config;p.headerList=[],p.headerContent=[],p.debug&&(d=new Date),p.columns=_.computeColumnIndex(p.$table.children("thead, tfoot").children("tr")),a=p.cssIcon?'<i class="'+(p.cssIcon===_.css.icon?_.css.icon:p.cssIcon+" "+_.css.icon)+'"></i>':"",p.$headers=t(s).find(p.selectorHeaders).each(function(e){o=t(this),n=_.getColumnData(s,p.headers,e,!0),p.headerContent[e]=t(this).html(),l=p.headerTemplate.replace(/\{content\}/g,t(this).html()).replace(/\{icon\}/g,a),p.onRenderTemplate&&(r=p.onRenderTemplate.apply(o,[e,l]),r&&"string"==typeof r&&(l=r)),t(this).html('<div class="'+_.css.headerIn+'">'+l+"</div>"),p.onRenderHeader&&p.onRenderHeader.apply(o,[e]),this.column=parseInt(t(this).attr("data-column"),10),this.order=h(_.getData(o,n,"sortInitialOrder")||p.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,c=_.getData(o,n,"lockedOrder")||!1,"undefined"!=typeof c&&c!==!1&&(this.order=this.lockedOrder=h(c)?[1,1,1]:[0,0,0]),o.addClass(_.css.header+" "+p.cssHeader),p.headerList[e]=this,o.parent().addClass(_.css.headerRow+" "+p.cssHeaderRow).attr("role","row"),p.tabIndex&&o.attr("tabindex",0)}).attr({scope:"col",role:"columnheader"}),u(s),p.debug&&(i("Built headers:",d),e(p.$headers))}function d(t,e,i){var s=t.config;s.$table.find(s.selectorRemove).remove(),r(t),a(t),x(s.$table,e,i)}function u(e){var i,s,n,o=e.config;o.$headers.each(function(r,a){s=t(a),n=_.getColumnData(e,o.headers,r,!0),i="false"===_.getData(a,n,"sorter")||"false"===_.getData(a,n,"parser"),a.sortDisabled=i,s[i?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+i),e.id&&(i?s.removeAttr("aria-controls"):s.attr("aria-controls",e.id))})}function p(e){var i,s,n,o=e.config,r=o.sortList,a=r.length,l=_.css.sortNone+" "+o.cssNone,h=[_.css.sortAsc+" "+o.cssAsc,_.css.sortDesc+" "+o.cssDesc],c=["ascending","descending"],d=t(e).find("tfoot tr").children().add(o.$extraHeaders).removeClass(h.join(" "));for(o.$headers.removeClass(h.join(" ")).addClass(l).attr("aria-sort","none"),s=0;a>s;s++)if(2!==r[s][1]&&(i=o.$headers.not(".sorter-false").filter('[data-column="'+r[s][0]+'"]'+(1===a?":last":"")),i.length)){for(n=0;n<i.length;n++)i[n].sortDisabled||i.eq(n).removeClass(l).addClass(h[r[s][1]]).attr("aria-sort",c[r[s][1]]);d.length&&d.filter('[data-column="'+r[s][0]+'"]').removeClass(l).addClass(h[r[s][1]])}o.$headers.not(".sorter-false").each(function(){var e=t(this),i=this.order[(this.count+1)%(o.sortReset?3:2)],s=e.text()+": "+_.language[e.hasClass(_.css.sortAsc)?"sortAsc":e.hasClass(_.css.sortDesc)?"sortDesc":"sortNone"]+_.language[0===i?"nextAsc":1===i?"nextDesc":"nextNone"];e.attr("aria-label",s)})}function f(e){if(e.config.widthFixed&&0===t(e).find("colgroup").length){var i=t("<colgroup>"),s=t(e).width();t(e.tBodies[0]).find("tr:first").children(":visible").each(function(){i.append(t("<col>").css("width",parseInt(t(this).width()/s*1e3,10)/10+"%"))}),t(e).prepend(i)}}function g(e,i){var s,n,o,r,a,l=e.config,h=i||l.sortList;l.sortList=[],t.each(h,function(e,i){if(r=parseInt(i[0],10),o=l.$headers.filter('[data-column="'+r+'"]:last')[0]){switch(n=(""+i[1]).match(/^(1|d|s|o|n)/),n=n?n[0]:""){case"1":case"d":n=1;break;case"s":n=a||0;break;case"o":s=o.order[(a||0)%(l.sortReset?3:2)],n=0===s?1:1===s?0:2;break;case"n":o.count=o.count+1,n=o.order[o.count%(l.sortReset?3:2)];break;default:n=0}a=0===e?n:a,s=[r,parseInt(n,10)||0],l.sortList.push(s),n=t.inArray(s[1],o.order),o.count=n>=0?n:s[1]%(l.sortReset?3:2)}})}function m(t,e){return t&&t[e]?t[e].type||"":""}function v(e,i,s){if(e.isUpdating)return setTimeout(function(){v(e,i,s)},50);var n,o,r,a,h,c=e.config,d=!s[c.sortMultiSortKey],u=c.$table;if(u.trigger("sortStart",e),i.count=s[c.sortResetKey]?2:(i.count+1)%(c.sortReset?3:2),c.sortRestart&&(o=i,c.$headers.each(function(){this===o||!d&&t(this).is("."+_.css.sortDesc+",."+_.css.sortAsc)||(this.count=-1)})),o=i.column,d){if(c.sortList=[],null!==c.sortForce)for(n=c.sortForce,r=0;r<n.length;r++)n[r][0]!==o&&c.sortList.push(n[r]);if(a=i.order[i.count],2>a&&(c.sortList.push([o,a]),i.colSpan>1))for(r=1;r<i.colSpan;r++)c.sortList.push([o+r,a])}else{if(c.sortAppend&&c.sortList.length>1)for(r=0;r<c.sortAppend.length;r++)h=_.isValueInArray(c.sortAppend[r][0],c.sortList),h>=0&&c.sortList.splice(h,1);if(_.isValueInArray(o,c.sortList)>=0)for(r=0;r<c.sortList.length;r++)h=c.sortList[r],a=c.$headers.filter('[data-column="'+h[0]+'"]:last')[0],h[0]===o&&(h[1]=a.order[i.count],2===h[1]&&(c.sortList.splice(r,1),a.count=-1));else if(a=i.order[i.count],2>a&&(c.sortList.push([o,a]),i.colSpan>1))for(r=1;r<i.colSpan;r++)c.sortList.push([o+r,a])}if(null!==c.sortAppend)for(n=c.sortAppend,r=0;r<n.length;r++)n[r][0]!==o&&c.sortList.push(n[r]);u.trigger("sortBegin",e),setTimeout(function(){p(e),b(e),l(e),u.trigger("sortEnd",e)},1)}function b(t){var e,n,o,r,a,l,h,c,d,u,p,f=0,g=t.config,v=g.textSorter||"",b=g.sortList,y=b.length,x=t.tBodies.length;if(!g.serverSideSorting&&!s(g.cache)){for(g.debug&&(a=new Date),n=0;x>n;n++)l=g.cache[n].colMax,h=g.cache[n].normalized,h.sort(function(i,s){for(e=0;y>e;e++){if(r=b[e][0],c=b[e][1],f=0===c,g.sortStable&&i[r]===s[r]&&1===y)return i[g.columns].order-s[g.columns].order;if(o=/n/i.test(m(g.parsers,r)),o&&g.strings[r]?(o="boolean"==typeof g.string[g.strings[r]]?(f?1:-1)*(g.string[g.strings[r]]?-1:1):g.strings[r]?g.string[g.strings[r]]||0:0,d=g.numberSorter?g.numberSorter(i[r],s[r],f,l[r],t):_["sortNumeric"+(f?"Asc":"Desc")](i[r],s[r],o,l[r],r,t)):(u=f?i:s,p=f?s:i,d="function"==typeof v?v(u[r],p[r],f,r,t):"object"==typeof v&&v.hasOwnProperty(r)?v[r](u[r],p[r],f,r,t):_["sortNatural"+(f?"Asc":"Desc")](i[r],s[r],r,t,g)),d)return d}return i[g.columns].order-s[g.columns].order});g.debug&&i("Sorting on "+b.toString()+" and dir "+c+" time",a)}}function y(e,i){var s=e[0];s.isUpdating&&e.trigger("updateComplete"),t.isFunction(i)&&i(e[0])}function x(t,e,i){var s=t[0].config.sortList;e!==!1&&!t[0].isProcessing&&s.length?t.trigger("sorton",[s,function(){y(t,i)},!0]):(y(t,i),_.applyWidget(t[0],!1))}function w(e){var i=e.config,o=i.$table;o.unbind("sortReset update updateRows updateCell updateAll addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(i.namespace+" ")).bind("sortReset"+i.namespace,function(s,n){s.stopPropagation(),i.sortList=[],p(e),b(e),l(e),t.isFunction(n)&&n(e)}).bind("updateAll"+i.namespace,function(t,s,n){t.stopPropagation(),e.isUpdating=!0,_.refreshWidgets(e,!0,!0),_.restoreHeaders(e),c(e),_.bindEvents(e,i.$headers,!0),w(e),d(e,s,n)}).bind("update"+i.namespace+" updateRows"+i.namespace,function(t,i,s){t.stopPropagation(),e.isUpdating=!0,u(e),d(e,i,s)}).bind("updateCell"+i.namespace,function(s,r,a,l){s.stopPropagation(),e.isUpdating=!0,o.find(i.selectorRemove).remove();var h,c,d,u,p=o.find("tbody"),f=t(r),g=p.index(t.fn.closest?f.closest("tbody"):f.parents("tbody").filter(":first")),m=t.fn.closest?f.closest("tr"):f.parents("tr").filter(":first");r=f[0],p.length&&g>=0&&(d=p.eq(g).find("tr").index(m),u=f.index(),i.cache[g].normalized[d][i.columns].$row=m,c="undefined"==typeof i.extractors[u].id?n(e,r,u):i.extractors[u].format(n(e,r,u),e,r,u),h="no-parser"===i.parsers[u].id?"":i.parsers[u].format(c,e,r,u),i.cache[g].normalized[d][u]=i.ignoreCase&&"string"==typeof h?h.toLowerCase():h,"numeric"===(i.parsers[u].type||"").toLowerCase()&&(i.cache[g].colMax[u]=Math.max(Math.abs(h)||0,i.cache[g].colMax[u]||0)),x(o,a,l))}).bind("addRows"+i.namespace,function(a,l,h,c){if(a.stopPropagation(),e.isUpdating=!0,s(i.cache))u(e),d(e,h,c);else{l=t(l).attr("role","row");var p,f,g,m,v,b,y,w=l.filter("tr").length,_=o.find("tbody").index(l.parents("tbody").filter(":first"));for(i.parsers&&i.parsers.length||r(e),p=0;w>p;p++){for(g=l[p].cells.length,y=[],b={child:[],$row:l.eq(p),order:i.cache[_].normalized.length},f=0;g>f;f++)m="undefined"==typeof i.extractors[f].id?n(e,l[p].cells[f],f):i.extractors[f].format(n(e,l[p].cells[f],f),e,l[p].cells[f],f),v="no-parser"===i.parsers[f].id?"":i.parsers[f].format(m,e,l[p].cells[f],f),y[f]=i.ignoreCase&&"string"==typeof v?v.toLowerCase():v,"numeric"===(i.parsers[f].type||"").toLowerCase()&&(i.cache[_].colMax[f]=Math.max(Math.abs(y[f])||0,i.cache[_].colMax[f]||0));y.push(b),i.cache[_].normalized.push(y)}x(o,h,c)}}).bind("updateComplete"+i.namespace,function(){e.isUpdating=!1}).bind("sorton"+i.namespace,function(i,n,r,h){var c=e.config;i.stopPropagation(),o.trigger("sortStart",this),g(e,n),p(e),c.delayInit&&s(c.cache)&&a(e),o.trigger("sortBegin",this),b(e),l(e,h),o.trigger("sortEnd",this),_.applyWidget(e),t.isFunction(r)&&r(e)}).bind("appendCache"+i.namespace,function(i,s,n){i.stopPropagation(),l(e,n),t.isFunction(s)&&s(e)}).bind("updateCache"+i.namespace,function(s,n){i.parsers&&i.parsers.length||r(e),a(e),t.isFunction(n)&&n(e)}).bind("applyWidgetId"+i.namespace,function(t,s){t.stopPropagation(),_.getWidgetById(s).format(e,i,i.widgetOptions)}).bind("applyWidgets"+i.namespace,function(t,i){t.stopPropagation(),_.applyWidget(e,i)}).bind("refreshWidgets"+i.namespace,function(t,i,s){t.stopPropagation(),_.refreshWidgets(e,i,s)}).bind("destroy"+i.namespace,function(t,i,s){t.stopPropagation(),_.destroy(e,i,s)}).bind("resetToLoadState"+i.namespace,function(){_.refreshWidgets(e,!0,!0),i=t.extend(!0,_.defaults,i.originalSettings),e.hasInitialized=!1,_.setup(e,i)})}var _=this;_.version="2.17.7",_.parsers=[],_.widgets=[],_.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,tabIndex:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortStable:!1,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},_.css={table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},_.language={sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},_.log=e,_.benchmark=i,_.construct=function(e){return this.each(function(){var i=this,s=t.extend(!0,{},_.defaults,e);s.originalSettings=e,!i.hasInitialized&&_.buildTable&&"TABLE"!==this.tagName?_.buildTable(i,s):_.setup(i,s)})},_.setup=function(i,s){if(!i||!i.tHead||0===i.tBodies.length||i.hasInitialized===!0)return s.debug?e("ERROR: stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var n="",o=t(i),l=t.metadata;i.hasInitialized=!1,i.isProcessing=!0,i.config=s,t.data(i,"tablesorter",s),s.debug&&t.data(i,"startoveralltimer",new Date),s.supportsDataObject=function(t){return t[0]=parseInt(t[0],10),t[0]>1||1===t[0]&&parseInt(t[1],10)>=4}(t.fn.jquery.split(".")),s.string={max:1,min:-1,emptyMin:1,emptyMax:-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(o.attr("class"))||(n=""!==s.theme?" tablesorter-"+s.theme:""),s.table=i,s.$table=o.addClass(_.css.table+" "+s.tableClass+n).attr("role","grid"),s.$headers=o.find(s.selectorHeaders),s.namespace=s.namespace?"."+s.namespace.replace(/\W/g,""):".tablesorter"+Math.random().toString(16).slice(2),s.$table.children().children("tr").attr("role","row"),s.$tbodies=o.children("tbody:not(."+s.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"}),s.$table.find("caption").length&&s.$table.attr("aria-labelledby","theCaption"),s.widgetInit={},s.textExtraction=s.$table.attr("data-text-extraction")||s.textExtraction||"basic",c(i),f(i),r(i),s.totalRows=0,s.delayInit||a(i),_.bindEvents(i,s.$headers,!0),w(i),s.supportsDataObject&&"undefined"!=typeof o.data().sortlist?s.sortList=o.data().sortlist:l&&o.metadata()&&o.metadata().sortlist&&(s.sortList=o.metadata().sortlist),_.applyWidget(i,!0),s.sortList.length>0?o.trigger("sorton",[s.sortList,{},!s.initWidgets,!0]):(p(i),s.initWidgets&&_.applyWidget(i,!1)),s.showProcessing&&o.unbind("sortBegin"+s.namespace+" sortEnd"+s.namespace).bind("sortBegin"+s.namespace+" sortEnd"+s.namespace,function(t){clearTimeout(s.processTimer),_.isProcessing(i),"sortBegin"===t.type&&(s.processTimer=setTimeout(function(){_.isProcessing(i,!0)},500))}),i.hasInitialized=!0,i.isProcessing=!1,s.debug&&_.benchmark("Overall initialization time",t.data(i,"startoveralltimer")),o.trigger("tablesorter-initialized",i),"function"==typeof s.initialized&&s.initialized(i)},_.getColumnData=function(e,i,s,n){if("undefined"!=typeof i&&null!==i){e=t(e)[0];var o,r,a,l=e.config;if(i[s])return n?i[s]:i[l.$headers.index(l.$headers.filter('[data-column="'+s+'"]:last'))];for(a in i)if("string"==typeof a&&(r=n?l.$headers.eq(s).filter(a):l.$headers.filter('[data-column="'+s+'"]:last').filter(a),r.length))return i[a];return o}},_.computeColumnIndex=function(e){var i,s,n,o,r,a,l,h,c,d,u,p,f,g=[],m={},v=0;for(i=0;i<e.length;i++)for(l=e[i].cells,s=0;s<l.length;s++){for(a=l[s],r=t(a),h=a.parentNode.rowIndex,c=h+"-"+r.index(),d=a.rowSpan||1,u=a.colSpan||1,"undefined"==typeof g[h]&&(g[h]=[]),n=0;n<g[h].length+1;n++)if("undefined"==typeof g[h][n]){p=n;break}for(m[c]=p,v=Math.max(p,v),r.attr({"data-column":p}),n=h;h+d>n;n++)for("undefined"==typeof g[n]&&(g[n]=[]),f=g[n],o=p;p+u>o;o++)f[o]="x"}return v+1},_.isProcessing=function(e,i,s){e=t(e);var n=e[0].config,o=s||e.find("."+_.css.header);i?("undefined"!=typeof s&&n.sortList.length>0&&(o=o.filter(function(){return this.sortDisabled?!1:_.isValueInArray(parseFloat(t(this).attr("data-column")),n.sortList)>=0})),e.add(o).addClass(_.css.processing+" "+n.cssProcessing)):e.add(o).removeClass(_.css.processing+" "+n.cssProcessing)},_.processTbody=function(e,i,s){e=t(e)[0];var n;return s?(e.isProcessing=!0,i.before('<span class="tablesorter-savemyplace"/>'),n=t.fn.detach?i.detach():i.remove()):(n=t(e).find("span.tablesorter-savemyplace"),i.insertAfter(n),n.remove(),void(e.isProcessing=!1))},_.clearTableBody=function(e){t(e)[0].config.$tbodies.children().detach()},_.bindEvents=function(e,i,n){e=t(e)[0];var o,r=e.config;n!==!0&&(r.$extraHeaders=r.$extraHeaders?r.$extraHeaders.add(i):i),i.find(r.selectorSort).add(i.filter(r.selectorSort)).unbind("mousedown mouseup sort keyup ".split(" ").join(r.namespace+" ")).bind("mousedown mouseup sort keyup ".split(" ").join(r.namespace+" "),function(n,l){var h,c=n.type;if(!(1!==(n.which||n.button)&&!/sort|keyup/.test(c)||"keyup"===c&&13!==n.which||"mouseup"===c&&l!==!0&&(new Date).getTime()-o>250)){if("mousedown"===c)return o=(new Date).getTime(),/(input|select|button|textarea)/i.test(n.target.tagName)?"":!r.cancelSelection;r.delayInit&&s(r.cache)&&a(e),h=t.fn.closest?t(this).closest("th, td")[0]:/TH|TD/.test(this.tagName)?this:t(this).parents("th, td")[0],h=r.$headers[i.index(h)],h.sortDisabled||v(e,h,n)}}),r.cancelSelection&&i.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})},_.restoreHeaders=function(e){var i=t(e)[0].config;i.$table.find(i.selectorHeaders).each(function(e){t(this).find("."+_.css.headerIn).length&&t(this).html(i.headerContent[e])})},_.destroy=function(e,i,s){if(e=t(e)[0],e.hasInitialized){_.refreshWidgets(e,!0,!0);var n=t(e),o=e.config,r=n.find("thead:first"),a=r.find("tr."+_.css.headerRow).removeClass(_.css.headerRow+" "+o.cssHeaderRow),l=n.find("tfoot:first > tr").children("th, td");i===!1&&t.inArray("uitheme",o.widgets)>=0&&(n.trigger("applyWidgetId",["uitheme"]),n.trigger("applyWidgetId",["zebra"])),r.find("tr").not(a).remove(),n.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows updateComplete sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd resetToLoadState ".split(" ").join(o.namespace+" ")),o.$headers.add(l).removeClass([_.css.header,o.cssHeader,o.cssAsc,o.cssDesc,_.css.sortAsc,_.css.sortDesc,_.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true"),a.find(o.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(o.namespace+" ")),_.restoreHeaders(e),n.toggleClass(_.css.table+" "+o.tableClass+" tablesorter-"+o.theme,i===!1),e.hasInitialized=!1,delete e.config.cache,"function"==typeof s&&s(e)}},_.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i},_.sortNatural=function(t,e){if(t===e)return 0;var i,s,n,o,r,a,l,h,c=_.regex;if(c.hex.test(e)){if(s=parseInt(t.match(c.hex),16),o=parseInt(e.match(c.hex),16),o>s)return-1;if(s>o)return 1}for(i=t.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),n=e.replace(c.chunk,"\\0$1\\0").replace(c.chunks,"").split("\\0"),h=Math.max(i.length,n.length),l=0;h>l;l++){if(r=isNaN(i[l])?i[l]||0:parseFloat(i[l])||0,a=isNaN(n[l])?n[l]||0:parseFloat(n[l])||0,isNaN(r)!==isNaN(a))return isNaN(r)?1:-1;if(typeof r!=typeof a&&(r+="",a+=""),a>r)return-1;if(r>a)return 1}return 0},_.sortNaturalAsc=function(t,e,i,s,n){if(t===e)return 0;var o=n.string[n.empties[i]||n.emptyTo];return""===t&&0!==o?"boolean"==typeof o?o?-1:1:-o||-1:""===e&&0!==o?"boolean"==typeof o?o?1:-1:o||1:_.sortNatural(t,e)},_.sortNaturalDesc=function(t,e,i,s,n){if(t===e)return 0;var o=n.string[n.empties[i]||n.emptyTo];return""===t&&0!==o?"boolean"==typeof o?o?-1:1:o||1:""===e&&0!==o?"boolean"==typeof o?o?1:-1:-o||-1:_.sortNatural(e,t)},_.sortText=function(t,e){return t>e?1:e>t?-1:0},_.getTextValue=function(t,e,i){if(i){var s,n=t?t.length:0,o=i+e;for(s=0;n>s;s++)o+=t.charCodeAt(s);return e*o}return 0},_.sortNumericAsc=function(t,e,i,s,n,o){if(t===e)return 0;var r=o.config,a=r.string[r.empties[n]||r.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:-a||-1:""===e&&0!==a?"boolean"==typeof a?a?1:-1:a||1:(isNaN(t)&&(t=_.getTextValue(t,i,s)),isNaN(e)&&(e=_.getTextValue(e,i,s)),t-e)},_.sortNumericDesc=function(t,e,i,s,n,o){if(t===e)return 0;var r=o.config,a=r.string[r.empties[n]||r.emptyTo];return""===t&&0!==a?"boolean"==typeof a?a?-1:1:a||1:""===e&&0!==a?"boolean"==typeof a?a?1:-1:-a||-1:(isNaN(t)&&(t=_.getTextValue(t,i,s)),isNaN(e)&&(e=_.getTextValue(e,i,s)),e-t)},_.sortNumeric=function(t,e){return t-e},_.characterEquivalents={a:"\xe1\xe0\xe2\xe3\xe4\u0105\xe5",A:"\xc1\xc0\xc2\xc3\xc4\u0104\xc5",c:"\xe7\u0107\u010d",C:"\xc7\u0106\u010c",e:"\xe9\xe8\xea\xeb\u011b\u0119",E:"\xc9\xc8\xca\xcb\u011a\u0118",i:"\xed\xec\u0130\xee\xef\u0131",I:"\xcd\xcc\u0130\xce\xcf",o:"\xf3\xf2\xf4\xf5\xf6",O:"\xd3\xd2\xd4\xd5\xd6",ss:"\xdf",SS:"\u1e9e",u:"\xfa\xf9\xfb\xfc\u016f",U:"\xda\xd9\xdb\xdc\u016e"},_.replaceAccents=function(t){var e,i="[",s=_.characterEquivalents;if(!_.characterRegex){_.characterRegexArray={};for(e in s)"string"==typeof e&&(i+=s[e],_.characterRegexArray[e]=new RegExp("["+s[e]+"]","g"));_.characterRegex=new RegExp(i+"]")}if(_.characterRegex.test(t))for(e in s)"string"==typeof e&&(t=t.replace(_.characterRegexArray[e],e));return t},_.isValueInArray=function(t,e){var i,s=e.length;for(i=0;s>i;i++)if(e[i][0]===t)return i;return-1},_.addParser=function(t){var e,i=_.parsers.length,s=!0;for(e=0;i>e;e++)_.parsers[e].id.toLowerCase()===t.id.toLowerCase()&&(s=!1);s&&_.parsers.push(t)},_.getParserById=function(t){if("false"==t)return!1;var e,i=_.parsers.length;for(e=0;i>e;e++)if(_.parsers[e].id.toLowerCase()===t.toString().toLowerCase())return _.parsers[e];return!1},_.addWidget=function(t){_.widgets.push(t)},_.hasWidget=function(e,i){return e=t(e),e.length&&e[0].config&&e[0].config.widgetInit[i]||!1},_.getWidgetById=function(t){var e,i,s=_.widgets.length;for(e=0;s>e;e++)if(i=_.widgets[e],i&&i.hasOwnProperty("id")&&i.id.toLowerCase()===t.toLowerCase())return i},_.applyWidget=function(e,s){e=t(e)[0];var n,o,r,a=e.config,l=a.widgetOptions,h=[];s!==!1&&e.hasInitialized&&(e.isApplyingWidgets||e.isUpdating)||(a.debug&&(n=new Date),a.widgets.length&&(e.isApplyingWidgets=!0,a.widgets=t.grep(a.widgets,function(e,i){return t.inArray(e,a.widgets)===i}),t.each(a.widgets||[],function(t,e){r=_.getWidgetById(e),r&&r.id&&(r.priority||(r.priority=10),h[t]=r)}),h.sort(function(t,e){return t.priority<e.priority?-1:t.priority===e.priority?0:1}),t.each(h,function(i,n){n&&((s||!a.widgetInit[n.id])&&(a.widgetInit[n.id]=!0,n.hasOwnProperty("options")&&(l=e.config.widgetOptions=t.extend(!0,{},n.options,l)),n.hasOwnProperty("init")&&n.init(e,n,a,l)),!s&&n.hasOwnProperty("format")&&n.format(e,a,l,!1))})),setTimeout(function(){e.isApplyingWidgets=!1},0),a.debug&&(o=a.widgets.length,i("Completed "+(s===!0?"initializing ":"applying ")+o+" widget"+(1!==o?"s":""),n)))},_.refreshWidgets=function(i,s,n){i=t(i)[0];var o,r=i.config,a=r.widgets,l=_.widgets,h=l.length;for(o=0;h>o;o++)l[o]&&l[o].id&&(s||t.inArray(l[o].id,a)<0)&&(r.debug&&e('Refeshing widgets: Removing "'+l[o].id+'"'),l[o].hasOwnProperty("remove")&&r.widgetInit[l[o].id]&&(l[o].remove(i,r,r.widgetOptions),r.widgetInit[l[o].id]=!1));n!==!0&&_.applyWidget(i,s)},_.getData=function(e,i,s){var n,o,r="",a=t(e);return a.length?(n=t.metadata?a.metadata():!1,o=" "+(a.attr("class")||""),"undefined"!=typeof a.data(s)||"undefined"!=typeof a.data(s.toLowerCase())?r+=a.data(s)||a.data(s.toLowerCase()):n&&"undefined"!=typeof n[s]?r+=n[s]:i&&"undefined"!=typeof i[s]?r+=i[s]:" "!==o&&o.match(" "+s+"-")&&(r=o.match(new RegExp("\\s"+s+"-([\\w-]+)"))[1]||""),t.trim(r)):""},_.formatFloat=function(e,i){if("string"!=typeof e||""===e)return e;var s,n=i&&i.config?i.config.usNumberFormat!==!1:"undefined"!=typeof i?i:!0;return e=n?e.replace(/,/g,""):e.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(e)&&(e=e.replace(/^\s*\(([.\d]+)\)/,"-$1")),s=parseFloat(e),isNaN(s)?t.trim(e):s},_.isDigit=function(t){return isNaN(t)?/^[\-+(]?\d+[)]?$/.test(t.toString().replace(/[,.'"\s]/g,"")):!0}}});var e=t.tablesorter;t.fn.extend({tablesorter:e.construct}),e.addParser({id:"no-parser",is:function(){return!1},format:function(){return""},type:"text"}),e.addParser({id:"text",is:function(){return!0},format:function(i,s){var n=s.config;return i&&(i=t.trim(n.ignoreCase?i.toLocaleLowerCase():i),i=n.sortLocaleCompare?e.replaceAccents(i):i),i},type:"text"}),e.addParser({id:"digit",is:function(t){return e.isDigit(t)},format:function(i,s){var n=e.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),s);return i&&"number"==typeof n?n:i?t.trim(i&&s.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),e.addParser({id:"currency",is:function(t){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((t||"").replace(/[+\-,. ]/g,""))},format:function(i,s){var n=e.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),s);return i&&"number"==typeof n?n:i?t.trim(i&&s.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"}),e.addParser({id:"ipAddress",is:function(t){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(t)},format:function(t,i){var s,n=t?t.split("."):"",o="",r=n.length;for(s=0;r>s;s++)o+=("00"+n[s]).slice(-3);return t?e.formatFloat(o,i):t},type:"numeric"}),e.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\//.test(t)},format:function(e){return e?t.trim(e.replace(/(https?|ftp|file):\/\//,"")):e},type:"text"}),e.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(t)},format:function(t,i){return t?e.formatFloat(""!==t?new Date(t.replace(/-/g,"/")).getTime()||t:"",i):t},type:"numeric"}),e.addParser({id:"percent",is:function(t){return/(\d\s*?%|%\s*?\d)/.test(t)&&t.length<15},format:function(t,i){return t?e.formatFloat(t.replace(/%/g,""),i):t},type:"numeric"}),e.addParser({id:"usLongDate",is:function(t){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(t)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(t)},format:function(t,i){return t?e.formatFloat(new Date(t.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||t,i):t},type:"numeric"}),e.addParser({id:"shortDate",is:function(t){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((t||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(t,i,s,n){if(t){var o=i.config,r=o.$headers.filter("[data-column="+n+"]:last"),a=r.length&&r[0].dateFormat||e.getData(r,e.getColumnData(i,o.headers,n),"dateFormat")||o.dateFormat;t=t.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===a?t=t.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===a?t=t.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===a&&(t=t.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return t?e.formatFloat(new Date(t).getTime()||t,i):t},type:"numeric"}),e.addParser({id:"time",is:function(t){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(t)},format:function(t,i){return t?e.formatFloat(new Date("2000/01/01 "+t.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||t,i):t},type:"numeric"}),e.addParser({id:"metadata",is:function(){return!1},format:function(e,i,s){var n=i.config,o=n.parserMetadataName?n.parserMetadataName:"sortValue";return t(s).metadata()[o]},type:"numeric"}),e.addWidget({id:"zebra",priority:90,format:function(i,s,n){var o,r,a,l,h,c,d,u,p=new RegExp(s.cssChildRow,"i"),f=s.$tbodies;for(s.debug&&(c=new Date),d=0;d<f.length;d++)o=f.eq(d),u=o.children("tr").length,u>1&&(l=0,r=o.children("tr:visible").not(s.selectorRemove),r.each(function(){a=t(this),p.test(this.className)||l++,h=l%2===0,a.removeClass(n.zebra[h?1:0]).addClass(n.zebra[h?0:1])}));s.debug&&e.benchmark("Applying Zebra widget",c)},remove:function(e,i,s){var n,o,r=i.$tbodies,a=(s.zebra||["even","odd"]).join(" ");for(n=0;n<r.length;n++)o=t.tablesorter.processTbody(e,r.eq(n),!0),o.children().removeClass(a),t.tablesorter.processTbody(e,o,!1)}})}(jQuery),function(t){"use strict";var e=t.tablesorter=t.tablesorter||{};e.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",sortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}},t.extend(e.css,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",wrapper:"tablesorter-wrapper",resizer:"tablesorter-resizer",sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible"}),e.storage=function(e,i,s,n){e=t(e)[0];var o,r,a,l=!1,h={},c=e.config,d=t(e),u=n&&n.id||d.attr(n&&n.group||"data-table-group")||e.id||t(".tablesorter").index(d),p=n&&n.url||d.attr(n&&n.page||"data-table-page")||c&&c.fixedUrl||window.location.pathname;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","temp"),l=!0,window.localStorage.removeItem("_tmptest")}catch(f){}return t.parseJSON&&(l?h=t.parseJSON(localStorage[i]||"{}"):(r=document.cookie.split(/[;\s|=]/),o=t.inArray(i,r)+1,h=0!==o?t.parseJSON(r[o]||"{}"):{})),(s||""===s)&&window.JSON&&JSON.hasOwnProperty("stringify")?(h[p]||(h[p]={}),h[p][u]=s,l?localStorage[i]=JSON.stringify(h):(a=new Date,a.setTime(a.getTime()+31536e6),document.cookie=i+"="+JSON.stringify(h).replace(/\"/g,'"')+"; expires="+a.toGMTString()+"; path=/"),void 0):h&&h[p]?h[p][u]:""},e.addHeaderResizeEvent=function(e,i,s){e=t(e)[0];var n,o={timer:250},r=t.extend({},o,s),a=e.config,l=a.widgetOptions,h=function(e){l.resize_flag=!0,n=[],a.$headers.each(function(){var e=t(this),i=e.data("savedSizes")||[0,0],s=this.offsetWidth,o=this.offsetHeight;(s!==i[0]||o!==i[1])&&(e.data("savedSizes",[s,o]),n.push(this))
}),n.length&&e!==!1&&a.$table.trigger("resize",[n]),l.resize_flag=!1};return h(!1),clearInterval(l.resize_timer),i?(l.resize_flag=!1,!1):void(l.resize_timer=setInterval(function(){l.resize_flag||h()},r.timer))},e.addWidget({id:"uitheme",priority:10,format:function(i,s,n){var o,r,a,l,h,c,d,u=e.themes,p=s.$table,f=s.$headers,g=s.theme||"jui",m=u[g]||u.jui,v=m.sortNone+" "+m.sortDesc+" "+m.sortAsc;for(s.debug&&(r=new Date),p.hasClass("tablesorter-"+g)&&s.theme!==g&&i.hasInitialized||(""!==m.even&&(n.zebra[0]+=" "+m.even),""!==m.odd&&(n.zebra[1]+=" "+m.odd),p.find("caption").addClass(m.caption),c=p.removeClass(""===s.theme?"":"tablesorter-"+s.theme).addClass("tablesorter-"+g+" "+m.table).find("tfoot"),c.length&&c.find("tr").addClass(m.footerRow).children("th, td").addClass(m.footerCells),f.addClass(m.header).not(".sorter-false").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(e){t(this)["mouseenter"===e.type?"addClass":"removeClass"](m.hover)}),f.find("."+e.css.wrapper).length||f.wrapInner('<div class="'+e.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),s.cssIcon&&f.find("."+e.css.icon).addClass(m.icons),p.hasClass("hasFilters")&&f.find("."+e.css.filterRow).addClass(m.filterRow)),o=0;o<s.columns;o++)l=s.$headers.add(s.$extraHeaders).filter('[data-column="'+o+'"]'),h=e.css.icon?l.find("."+e.css.icon):l,d=s.$headers.filter('[data-column="'+o+'"]:last'),d.length&&(d[0].sortDisabled?(l.removeClass(v),h.removeClass(v+" "+m.icons)):(a=l.hasClass(e.css.sortAsc)?m.sortAsc:l.hasClass(e.css.sortDesc)?m.sortDesc:l.hasClass(e.css.header)?m.sortNone:"",l[a===m.sortNone?"removeClass":"addClass"](m.active),h.removeClass(v).addClass(a)));s.debug&&e.benchmark("Applying "+g+" theme",r)},remove:function(t,i){var s=i.$table,n=i.theme||"jui",o=e.themes[n]||e.themes.jui,r=s.children("thead").children(),a=o.sortNone+" "+o.sortDesc+" "+o.sortAsc;s.removeClass("tablesorter-"+n+" "+o.table).find(e.css.header).removeClass(o.header),r.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(o.hover+" "+a+" "+o.active).find("."+e.css.filterRow).removeClass(o.filterRow),r.find("."+e.css.icon).removeClass(o.icons)}}),e.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,s,n){var o,r,a,l,h,c,d,u,p,f=s.$table,g=s.$tbodies,m=s.sortList,v=m.length,b=n&&n.columns||["primary","secondary","tertiary"],y=b.length-1;for(u=b.join(" "),s.debug&&(o=new Date),a=0;a<g.length;a++)r=e.processTbody(i,g.eq(a),!0),l=r.children("tr"),l.each(function(){if(c=t(this),"none"!==this.style.display&&(d=c.children().removeClass(u),m&&m[0]&&(d.eq(m[0][0]).addClass(b[0]),v>1)))for(p=1;v>p;p++)d.eq(m[p][0]).addClass(b[p]||b[y])}),e.processTbody(i,r,!1);if(h=n.columns_thead!==!1?["thead tr"]:[],n.columns_tfoot!==!1&&h.push("tfoot tr"),h.length&&(l=f.find(h.join(",")).children().removeClass(u),v))for(p=0;v>p;p++)l.filter('[data-column="'+m[p][0]+'"]').addClass(b[p]||b[y]);s.debug&&e.benchmark("Applying Columns widget",o)},remove:function(i,s,n){var o,r,a=s.$tbodies,l=(n.columns||["primary","secondary","tertiary"]).join(" ");for(s.$headers.removeClass(l),s.$table.children("tfoot").children("tr").children("th, td").removeClass(l),o=0;o<a.length;o++)r=e.processTbody(i,a.eq(o),!0),r.children("tr").each(function(){t(this).children().removeClass(l)}),e.processTbody(i,r,!1)}}),e.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"",filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:!0,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:!1,filter_searchDelay:300,filter_searchFiltered:!0,filter_selectSource:null,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(t,i,s){i.$table.hasClass("hasFilters")||e.filter.init(t,i,s)},remove:function(i,s,n){var o,r,a=s.$table,l=s.$tbodies;for(a.removeClass("hasFilters").unbind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(s.namespace+"filter ")).find("."+e.css.filterRow).remove(),o=0;o<l.length;o++)r=e.processTbody(i,l.eq(o),!0),r.children().removeClass(n.filter_filteredRow).show(),e.processTbody(i,r,!1);n.filter_reset&&t(document).undelegate(n.filter_reset,"click.tsfilter")}}),e.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=]+)|([\"|\'|=]+$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g},types:{regex:function(t,i,s,n){if(e.filter.regex.regex.test(i)){var o,r=e.filter.regex.regex.exec(i);try{o=new RegExp(r[1],r[2]).test(n)}catch(a){o=!1}return o}return null},operators:function(i,s,n,o,r,a,l,h,c){if(/^[<>]=?/.test(s)){var d,u,p=l.config,f=e.formatFloat(s.replace(e.filter.regex.operators,""),l),g=p.parsers[a],m=f;return(c[a]||"numeric"===g.type)&&(u=e.filter.parseFilter(l,t.trim(""+s.replace(e.filter.regex.operators,"")),a,c[a],!0),f="number"!=typeof u||""===u||isNaN(u)?f:u),d=!c[a]&&"numeric"!==g.type||isNaN(f)||"undefined"==typeof r?isNaN(o)?e.formatFloat(o.replace(e.filter.regex.nondigit,""),l):e.formatFloat(o,l):r,/>/.test(s)&&(u=/>=/.test(s)?d>=f:d>f),/</.test(s)&&(u=/<=/.test(s)?f>=d:f>d),u||""!==m||(u=!0),u}return null},notMatch:function(i,s,n,o,r,a,l,h,c){if(/^\!/.test(s)){if(s=e.filter.parseFilter(l,s.replace("!",""),a,c[a]),e.filter.regex.exact.test(s))return s=s.replace(e.filter.regex.exact,""),""===s?!0:t.trim(s)!==o;var d=o.search(t.trim(s));return""===s?!0:!(h.filter_startsWith?0===d:d>=0)}return null},exact:function(i,s,n,o,r,a,l,h,c,d){if(e.filter.regex.exact.test(s)){var u=e.filter.parseFilter(l,s.replace(e.filter.regex.exact,""),a,c[a]);return d?t.inArray(u,d)>=0:u==o}return null},and:function(i,s,n,o,r,a,l,h,c){if(e.filter.regex.andTest.test(i)){for(var d=s.split(e.filter.regex.andSplit),u=o.search(t.trim(e.filter.parseFilter(l,d[0],a,c[a])))>=0,p=d.length-1;u&&p;)u=u&&o.search(t.trim(e.filter.parseFilter(l,d[p],a,c[a])))>=0,p--;return u}return null},range:function(t,i,s,n,o,r,a,l,h){if(e.filter.regex.toTest.test(i)){var c,d,u=a.config,p=i.split(e.filter.regex.toSplit),f=e.formatFloat(e.filter.parseFilter(a,p[0].replace(e.filter.regex.nondigit,""),r,h[r]),a),g=e.formatFloat(e.filter.parseFilter(a,p[1].replace(e.filter.regex.nondigit,""),r,h[r]),a);return(h[r]||"numeric"===u.parsers[r].type)&&(c=u.parsers[r].format(""+p[0],a,u.$headers.eq(r),r),f=""===c||isNaN(c)?f:c,c=u.parsers[r].format(""+p[1],a,u.$headers.eq(r),r),g=""===c||isNaN(c)?g:c),c=!h[r]&&"numeric"!==u.parsers[r].type||isNaN(f)||isNaN(g)?isNaN(n)?e.formatFloat(n.replace(e.filter.regex.nondigit,""),a):e.formatFloat(n,a):o,f>g&&(d=f,f=g,g=d),c>=f&&g>=c||""===f||""===g}return null},wild:function(i,s,n,o,r,a,l,h,c,d){if(/[\?|\*]/.test(s)||e.filter.regex.orReplace.test(i)){var u=l.config,p=e.filter.parseFilter(l,s.replace(e.filter.regex.orReplace,"|"),a,c[a]);return!u.$headers.filter('[data-column="'+a+'"]:last').hasClass("filter-match")&&/\|/.test(p)&&(p=t.isArray(d)?"("+p+")":"^("+p+")$"),new RegExp(p.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(o)}return null},fuzzy:function(t,i,s,n,o,r,a,l,h){if(/^~/.test(i)){var c,d=0,u=n.length,p=e.filter.parseFilter(a,i.slice(1),r,h[r]);for(c=0;u>c;c++)n[c]===p[d]&&(d+=1);return d===p.length?!0:!1}return null}},init:function(i,s,n){e.language=t.extend(!0,{},{to:"to",or:"or",and:"and"},e.language);var o,r,a,l,h,c,d,u,p,f,g=e.filter.regex;if(s.debug&&(u=new Date),s.$table.addClass("hasFilters"),n.searchTimer=null,n.filter_initTimer=null,n.filter_formatterCount=0,n.filter_formatterInit=[],t.extend(g,{child:new RegExp(s.cssChildRow),filtered:new RegExp(n.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+e.language.or+"|-|"+e.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+e.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+e.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+e.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+e.language.and+"|&&)\\s+)","gi"),orReplace:new RegExp("\\s+("+e.language.or+")\\s+","gi")}),n.filter_columnFilters!==!1&&s.$headers.filter(".filter-false, .parser-false").length!==s.$headers.length&&e.filter.buildRow(i,s,n),s.$table.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(s.namespace+"filter "),function(o,r){return s.$table.find("."+e.css.filterRow).toggle(!(n.filter_hideEmpty&&t.isEmptyObject(s.cache)&&(!s.delayInit||"appendCache"!==o.type))),/(search|filter)/.test(o.type)||(o.stopPropagation(),e.filter.buildDefault(i,!0)),"filterReset"===o.type?(s.$table.find("."+e.css.filter).add(n.filter_$externalFilters).val(""),e.filter.searching(i,[])):"filterEnd"===o.type?e.filter.buildDefault(i,!0):(r="search"===o.type?r:"updateComplete"===o.type?s.$table.data("lastSearch"):"",/(update|add)/.test(o.type)&&"updateComplete"!==o.type&&(s.lastCombinedFilter=null,s.lastSearch=[]),e.filter.searching(i,r,!0)),!1}),n.filter_reset&&(n.filter_reset instanceof t?n.filter_reset.click(function(){s.$table.trigger("filterReset")}):t(n.filter_reset).length&&t(document).undelegate(n.filter_reset,"click.tsfilter").delegate(n.filter_reset,"click.tsfilter",function(){s.$table.trigger("filterReset")})),n.filter_functions)for(h=0;h<s.columns;h++)if(p=e.getColumnData(i,n.filter_functions,h))if(l=s.$headers.filter('[data-column="'+h+'"]:last').removeClass("filter-select"),f=!(l.hasClass("filter-false")||l.hasClass("parser-false")),o="",p===!0&&f)e.filter.buildSelect(i,h);else if("object"==typeof p&&f){for(r in p)"string"==typeof r&&(o+=""===o?'<option value="">'+(l.data("placeholder")||l.attr("data-placeholder")||n.filter_placeholder.select||"")+"</option>":"",d=r,a=r,r.indexOf(n.filter_selectSourceSeparator)>=0&&(d=r.split(n.filter_selectSourceSeparator),a=d[1],d=d[0]),o+="<option "+(a===d?"":'data-function-name="'+r+'" ')+'value="'+d+'">'+a+"</option>");s.$table.find("thead").find("select."+e.css.filter+'[data-column="'+h+'"]').append(o)}e.filter.buildDefault(i,!0),e.filter.bindSearch(i,s.$table.find("."+e.css.filter),!0),n.filter_external&&e.filter.bindSearch(i,n.filter_external),n.filter_hideFilters&&e.filter.hideFilters(i,s),s.showProcessing&&s.$table.bind("filterStart"+s.namespace+"filter filterEnd"+s.namespace+"filter",function(n,o){l=o?s.$table.find("."+e.css.header).filter("[data-column]").filter(function(){return""!==o[t(this).data("column")]}):"",e.isProcessing(i,"filterStart"===n.type,o?l:"")}),s.filteredRows=s.totalRows,s.debug&&e.benchmark("Applying Filter widget",u),s.$table.bind("tablesorter-initialized pagerInitialized",function(){var t=this.config.widgetOptions;c=e.filter.setDefaults(i,s,t)||[],c.length&&(s.delayInit&&""===c.join("")||e.setFilters(i,c,!0)),s.$table.trigger("filterFomatterUpdate"),setTimeout(function(){t.filter_initialized||e.filter.filterInitComplete(s)},100)}),s.pager&&s.pager.initialized&&!n.filter_initialized&&(s.$table.trigger("filterFomatterUpdate"),setTimeout(function(){e.filter.filterInitComplete(s)},100))},formatterUpdated:function(t,e){var i=t.closest("table")[0].config.widgetOptions;i.filter_initialized||(i.filter_formatterInit[e]=1)},filterInitComplete:function(e){var i=e.widgetOptions,s=0;t.each(i.filter_formatterInit,function(t,e){1===e&&s++}),clearTimeout(i.filter_initTimer),i.filter_initialized||s!==i.filter_formatterCount?i.filter_initialized||(i.filter_initTimer=setTimeout(function(){i.filter_initialized=!0,e.$table.trigger("filterInit",e)},500)):(i.filter_initialized=!0,e.$table.trigger("filterInit",e))},setDefaults:function(i,s,n){var o,r,a,l=e.getFilters(i)||[];if(n.filter_saveFilters&&e.storage&&(r=e.storage(i,"tablesorter-filters")||[],o=t.isArray(r),o&&""===r.join("")||!o||(l=r)),""===l.join(""))for(a=0;a<s.columns;a++)l[a]=s.$headers.filter('[data-column="'+a+'"]:last').attr(n.filter_defaultAttrib)||l[a];return s.$table.data("lastSearch",l),l},parseFilter:function(t,e,i,s,n){var o=t.config;return n||s?o.parsers[i].format(e,t,[],i):e},buildRow:function(i,s,n){var o,r,a,l,h,c,d,u=s.columns,p='<tr role="row" class="'+e.css.filterRow+'">';for(r=0;u>r;r++)p+="<td></td>";for(s.$filters=t(p+="</tr>").appendTo(s.$table.children("thead").eq(0)).find("td"),r=0;u>r;r++)h=!1,a=s.$headers.filter('[data-column="'+r+'"]:last'),d=e.getColumnData(i,n.filter_functions,r),l=n.filter_functions&&d&&"function"!=typeof d||a.hasClass("filter-select"),o=e.getColumnData(i,s.headers,r),h="false"===e.getData(a[0],o,"filter")||"false"===e.getData(a[0],o,"parser"),l?p=t("<select>").appendTo(s.$filters.eq(r)):(d=e.getColumnData(i,n.filter_formatter,r),d?(n.filter_formatterCount++,p=d(s.$filters.eq(r),r),p&&0===p.length&&(p=s.$filters.eq(r).children("input")),p&&(0===p.parent().length||p.parent().length&&p.parent()[0]!==s.$filters[r])&&s.$filters.eq(r).append(p)):p=t('<input type="search">').appendTo(s.$filters.eq(r)),p&&p.attr("placeholder",a.data("placeholder")||a.attr("data-placeholder")||n.filter_placeholder.search||"")),p&&(c=(t.isArray(n.filter_cssFilter)?"undefined"!=typeof n.filter_cssFilter[r]?n.filter_cssFilter[r]||"":"":n.filter_cssFilter)||"",p.addClass(e.css.filter+" "+c).attr("data-column",r),h&&(p.attr("placeholder","").addClass("disabled")[0].disabled=!0))},bindSearch:function(i,s,n){if(i=t(i)[0],s=t(s),s.length){var o=i.config,r=o.widgetOptions,a=r.filter_$externalFilters;n!==!0&&(r.filter_$anyMatch=s.filter('[data-column="all"]'),r.filter_$externalFilters=a&&a.length?r.filter_$externalFilters.add(s):s,e.setFilters(i,o.$table.data("lastSearch")||[],n===!1)),s.attr("data-lastSearchTime",(new Date).getTime()).unbind("keypress keyup search change ".split(" ").join(o.namespace+"filter ")).bind("keyup"+o.namespace+"filter",function(s){if(t(this).attr("data-lastSearchTime",(new Date).getTime()),27===s.which)this.value="";else{if(r.filter_liveSearch===!1)return;if(""!==this.value&&("number"==typeof r.filter_liveSearch&&this.value.length<r.filter_liveSearch||13!==s.which&&8!==s.which&&(s.which<32||s.which>=37&&s.which<=40)))return}e.filter.searching(i,!0,!0)}).bind("search change keypress ".split(" ").join(o.namespace+"filter "),function(s){var n=t(this).data("column");(13===s.which||"search"===s.type||"change"===s.type&&this.value!==o.lastSearch[n])&&(s.preventDefault(),t(this).attr("data-lastSearchTime",(new Date).getTime()),e.filter.searching(i,!1,!0))})}},searching:function(t,i,s){var n=t.config.widgetOptions;clearTimeout(n.searchTimer),"undefined"==typeof i||i===!0?n.searchTimer=setTimeout(function(){e.filter.checkFilters(t,i,s)},n.filter_liveSearch?n.filter_searchDelay:10):e.filter.checkFilters(t,i,s)},checkFilters:function(i,s,n){var o=i.config,r=o.widgetOptions,a=t.isArray(s),l=a?s:e.getFilters(i,!0),h=(l||[]).join("");return t.isEmptyObject(o.cache)?void(o.delayInit&&o.pager&&o.pager.initialized&&o.$table.trigger("updateCache",[function(){e.filter.checkFilters(i,!1,n)}])):(a&&(e.setFilters(i,l,!1,n!==!0),r.filter_initialized||(o.lastCombinedFilter="")),r.filter_hideFilters&&o.$table.find("."+e.css.filterRow).trigger(""===h?"mouseleave":"mouseenter"),o.lastCombinedFilter!==h||s===!1?(s===!1&&(o.lastCombinedFilter=null,o.lastSearch=[]),r.filter_initialized&&o.$table.trigger("filterStart",[l]),o.showProcessing?void setTimeout(function(){return e.filter.findRows(i,l,h),!1},30):(e.filter.findRows(i,l,h),!1)):void 0)},hideFilters:function(i,s){var n,o,r;t(i).find("."+e.css.filterRow).addClass("hideme").bind("mouseenter mouseleave",function(e){var i=e;n=t(this),clearTimeout(r),r=setTimeout(function(){/enter|over/.test(i.type)?n.removeClass("hideme"):t(document.activeElement).closest("tr")[0]!==n[0]&&""===s.lastCombinedFilter&&n.addClass("hideme")},200)}).find("input, select").bind("focus blur",function(i){o=t(this).closest("tr"),clearTimeout(r);var n=i;r=setTimeout(function(){""===e.getFilters(s.$table).join("")&&o["focus"===n.type?"removeClass":"addClass"]("hideme")},200)})},findRows:function(i,s,n){if(i.config.lastCombinedFilter!==n){var o,r,a,l,h,c,d,u,p,f,g,m,v,b,y,x,w,_,k,C,T,D,S,P,M,A,I,E,L,z,N,H=e.filter.regex,O=i.config,W=O.widgetOptions,R=O.columns,F=O.$table.children("tbody"),B=["range","notMatch","operators"],$=O.$headers.map(function(s){return O.parsers&&O.parsers[s]&&O.parsers[s].parsed||e.getData&&"parsed"===e.getData(O.$headers.filter('[data-column="'+s+'"]:last'),e.getColumnData(i,O.headers,s),"filter")||t(this).hasClass("filter-parsed")}).get();for(O.debug&&(T=new Date),O.filteredRows=0,O.totalRows=0,h=0;h<F.length;h++)if(!F.eq(h).hasClass(O.cssInfoBlock||e.css.info)){if(c=e.processTbody(i,F.eq(h),!0),u=O.columns,a=t(t.map(O.cache[h].normalized,function(t){return t[u].$row.get()})),""===n||W.filter_serversideFiltering)a.removeClass(W.filter_filteredRow).not("."+O.cssChildRow).show();else{if(a=a.not("."+O.cssChildRow),r=a.length,_=W.filter_searchFiltered,b=O.lastSearch||O.$table.data("lastSearch")||[],_)for(S=0;u+1>S;S++)D=s[S]||"",_||(S=u),_=!(!_||!b.length||0!==D.indexOf(b[S]||"")||H.alreadyFiltered.test(D)||/[=\"\|!]/.test(D)||/(>=?\s*-\d)/.test(D)||/(<=?\s*\d)/.test(D)||""!==D&&O.$filters&&O.$filters.eq(S).find("select").length&&!O.$headers.filter('[data-column="'+S+'"]:last').hasClass("filter-match"));for(w=a.not("."+W.filter_filteredRow).length,_&&0===w&&(_=!1),O.debug&&e.log("Searching through "+(_&&r>w?w:"all")+" rows"),(W.filter_$anyMatch&&W.filter_$anyMatch.length||s[O.columns])&&(P=W.filter_$anyMatch&&W.filter_$anyMatch.val()||s[O.columns]||"",O.sortLocaleCompare&&(P=e.replaceAccents(P)),M=P.toLowerCase()),l=0;r>l;l++)if(p=a[l].className,!(H.child.test(p)||_&&H.filtered.test(p))){if(C=!0,p=a.eq(l).nextUntil("tr:not(."+O.cssChildRow+")"),f=p.length&&W.filter_childRows?p.text():"",f=W.filter_ignoreCase?f.toLocaleLowerCase():f,d=a.eq(l).children(),P)if(A=d.map(function(i){var s;return $[i]?s=O.cache[h].normalized[l][i]:(s=W.filter_ignoreCase?t(this).text().toLowerCase():t(this).text(),O.sortLocaleCompare&&(s=e.replaceAccents(s))),s}).get(),I=A.join(" "),E=I.toLowerCase(),L=O.cache[h].normalized[l].slice(0,-1).join(" "),k=null,t.each(e.filter.types,function(e,s){return t.inArray(e,B)<0&&(y=s(P,M,I,E,L,R,i,W,$,A),null!==y)?(k=y,!1):void 0}),null!==k)C=k;else if(W.filter_startsWith)for(C=!1,u=R;!C&&u>0;)u--,C=C||0===A[u].indexOf(M);else C=(E+f).indexOf(M)>=0;for(u=0;R>u;u++)s[u]&&(o=O.cache[h].normalized[l][u],W.filter_useParsedData||$[u]?g=o:(g=t.trim(d.eq(u).text()),g=O.sortLocaleCompare?e.replaceAccents(g):g),m=!H.type.test(typeof g)&&W.filter_ignoreCase?g.toLocaleLowerCase():g,x=C,N=W.filter_columnFilters?O.$filters.add(O.$externalFilters).filter('[data-column="'+u+'"]').find("select option:selected").attr("data-function-name")||"":"",s[u]=O.sortLocaleCompare?e.replaceAccents(s[u]):s[u],v=W.filter_ignoreCase?(s[u]||"").toLocaleLowerCase():s[u],z=e.getColumnData(i,W.filter_functions,u),z?z===!0?x=O.$headers.filter('[data-column="'+u+'"]:last').hasClass("filter-match")?m.search(v)>=0:s[u]===g:"function"==typeof z?x=z(g,o,s[u],u,a.eq(l)):"function"==typeof z[N||s[u]]&&(x=z[N||s[u]](g,o,s[u],u,a.eq(l))):(k=null,t.each(e.filter.types,function(t,e){return y=e(s[u],v,g,m,o,u,i,W,$),null!==y?(k=y,!1):void 0}),null!==k?x=k:(g=(m+f).indexOf(e.filter.parseFilter(i,v,u,$[u])),x=!W.filter_startsWith&&g>=0||W.filter_startsWith&&0===g)),C=x?C:!1);a.eq(l).toggle(C).toggleClass(W.filter_filteredRow,!C),p.length&&p.toggleClass(W.filter_filteredRow,!C)}}O.filteredRows+=a.not("."+W.filter_filteredRow).length,O.totalRows+=a.length,e.processTbody(i,c,!1)}O.lastCombinedFilter=n,O.lastSearch=s,O.$table.data("lastSearch",s),W.filter_saveFilters&&e.storage&&e.storage(i,"tablesorter-filters",s),O.debug&&e.benchmark("Completed filter widget search",T),W.filter_initialized&&O.$table.trigger("filterEnd",O),setTimeout(function(){O.$table.trigger("applyWidgets")},0)}},getOptionSource:function(i,s,n){var o,r=i.config,a=r.widgetOptions,l=[],h=!1,c=a.filter_selectSource,d=r.$table.data("lastSearch")||[],u=t.isFunction(c)?!0:e.getColumnData(i,c,s);if(n&&""!==d[s]&&(n=!1),u===!0)h=c(i,s,n);else{if(u instanceof t||"string"===t.type(u)&&u.indexOf("</option>")>=0)return u;t.isArray(u)?h=u:"object"===t.type(c)&&u&&(h=u(i,s,n))}return h===!1&&(h=e.filter.getOptions(i,s,n)),h=t.grep(h,function(e,i){return t.inArray(e,h)===i}),r.$headers.filter('[data-column="'+s+'"]:last').hasClass("filter-select-nosort")?h:(t.each(h,function(t,e){l.push({t:e,p:r.parsers&&r.parsers[s].format(e,i,[],s)})}),o=r.textSorter||"",l.sort(function(n,r){var a=n.p.toString(),l=r.p.toString();return t.isFunction(o)?o(a,l,!0,s,i):"object"==typeof o&&o.hasOwnProperty(s)?o[s](a,l,!0,s,i):e.sortNatural?e.sortNatural(a,l):!0}),h=[],t.each(l,function(t,e){h.push(e.t)}),h)},getOptions:function(e,i,s){var n,o,r,a,l,h,c=e.config,d=c.widgetOptions,u=c.$table.children("tbody"),p=[];for(o=0;o<u.length;o++)if(!u.eq(o).hasClass(c.cssInfoBlock))for(l=c.cache[o],r=c.cache[o].normalized.length,n=0;r>n;n++)a=l.row?l.row[n]:l.normalized[n][c.columns].$row[0],s&&a.className.match(d.filter_filteredRow)||(d.filter_useParsedData||c.parsers[i].parsed||c.$headers.filter('[data-column="'+i+'"]:last').hasClass("filter-parsed")?p.push(""+l.normalized[n][i]):(h=a.cells[i],h&&p.push(t.trim(h.textContent||h.innerText||t(h).text()))));return p},buildSelect:function(i,s,n,o,r){if(i=t(i)[0],s=parseInt(s,10),i.config.cache&&!t.isEmptyObject(i.config.cache)){var a,l,h,c,d,u,p=i.config,f=p.widgetOptions,g=p.$headers.filter('[data-column="'+s+'"]:last'),m='<option value="">'+(g.data("placeholder")||g.attr("data-placeholder")||f.filter_placeholder.select||"")+"</option>",v=p.$table.find("thead").find("select."+e.css.filter+'[data-column="'+s+'"]').val();if(("undefined"==typeof n||""===n)&&(n=e.filter.getOptionSource(i,s,r)),t.isArray(n)){for(a=0;a<n.length;a++)h=n[a]=(""+n[a]).replace(/\"/g,"&quot;"),l=h,h.indexOf(f.filter_selectSourceSeparator)>=0&&(c=h.split(f.filter_selectSourceSeparator),l=c[0],h=c[1]),m+=""!==n[a]?"<option "+(l===h?"":'data-function-name="'+n[a]+'" ')+'value="'+l+'">'+h+"</option>":"";n=[]}d=(p.$filters?p.$filters:p.$table.children("thead")).find("."+e.css.filter),f.filter_$externalFilters&&(d=d&&d.length?d.add(f.filter_$externalFilters):f.filter_$externalFilters),u=d.filter('select[data-column="'+s+'"]'),u.length&&(u[o?"html":"append"](m),t.isArray(n)||u.append(n).val(v),u.val(v))}},buildDefault:function(t,i){var s,n,o,r=t.config,a=r.widgetOptions,l=r.columns;for(s=0;l>s;s++)n=r.$headers.filter('[data-column="'+s+'"]:last'),o=!(n.hasClass("filter-false")||n.hasClass("parser-false")),(n.hasClass("filter-select")||e.getColumnData(t,a.filter_functions,s)===!0)&&o&&e.filter.buildSelect(t,s,"",i,n.hasClass(a.filter_onlyAvail))}},e.getFilters=function(i,s,n,o){var r,a,l,h=!1,c=i?t(i)[0].config:"",d=c?c.widgetOptions:"";if(s!==!0&&d&&!d.filter_columnFilters)return t(i).data("lastSearch");if(c&&(c.$filters&&(a=c.$filters.find("."+e.css.filter)),d.filter_$externalFilters&&(a=a&&a.length?a.add(d.filter_$externalFilters):d.filter_$externalFilters),a&&a.length))for(h=n||[],r=0;r<c.columns+1;r++)l=a.filter('[data-column="'+(r===c.columns?"all":r)+'"]'),l.length&&(l=l.sort(function(e,i){return t(i).attr("data-lastSearchTime")-t(e).attr("data-lastSearchTime")}),t.isArray(n)?(o?l.slice(1):l).val(n[r]).trigger("change.tsfilter"):(h[r]=l.val()||"",l.slice(1).val(h[r])),r===c.columns&&l.length&&(d.filter_$anyMatch=l));return 0===h.length&&(h=!1),h},e.setFilters=function(i,s,n,o){var r=i?t(i)[0].config:"",a=e.getFilters(i,!0,s,o);return r&&n&&(r.lastCombinedFilter=null,r.lastSearch=[],e.filter.searching(r.$table[0],s,o),r.$table.trigger("filterFomatterUpdate")),!!a},e.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:!0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(i,s,n){if(!(s.$table.hasClass("hasStickyHeaders")||t.inArray("filter",s.widgets)>=0&&!s.$table.hasClass("hasFilters"))){var o,r=s.$table,a=t(n.stickyHeaders_attachTo),l=r.children("thead:first"),h=a.length?a:t(window),c=l.children("tr").not(".sticky-false").children(),d="."+e.css.headerIn,u=r.find("tfoot"),p=isNaN(n.stickyHeaders_offset)?t(n.stickyHeaders_offset):"",f=a.length?0:p.length?p.height()||0:parseInt(n.stickyHeaders_offset,10)||0,g=n.$sticky=r.clone().addClass("containsStickyHeaders").css({position:a.length?"absolute":"fixed",margin:0,top:f,left:0,visibility:"hidden",zIndex:n.stickyHeaders_zIndex?n.stickyHeaders_zIndex:2}),m=g.children("thead:first").addClass(e.css.sticky+" "+n.stickyHeaders),v="",b=0,y="collapse"!==r.css("border-collapse")&&!/(webkit|msie)/i.test(navigator.userAgent),x=function(){f=p.length?p.height()||0:parseInt(n.stickyHeaders_offset,10)||0,b=0,y&&(b=2*parseInt(c.eq(0).css("border-left-width"),10)),g.css({left:a.length?(parseInt(a.css("padding-left"),10)||0)+parseInt(s.$table.css("padding-left"),10)+parseInt(s.$table.css("margin-left"),10)+parseInt(r.css("border-left-width"),10):l.offset().left-h.scrollLeft()-b,width:r.width()}),o.filter(":visible").each(function(e){var i=c.filter(":visible").eq(e),n=y&&t(this).attr("data-column")===""+parseInt(s.columns/2,10)?1:0;t(this).css({width:i.width()-b}).find(d).width(i.find(d).width()-n)})};g.attr("id")&&(g[0].id+=n.stickyHeaders_cloneId),g.find("thead:gt(0), tr.sticky-false").hide(),g.find("tbody, tfoot").remove(),n.stickyHeaders_includeCaption?g.find("caption").css("margin-left","-1px"):g.find("caption").remove(),o=m.children().children(),g.css({height:0,width:0,padding:0,margin:0,border:0}),o.find("."+e.css.resizer).remove(),r.addClass("hasStickyHeaders").bind("pagerComplete.tsSticky",function(){x()}),e.bindEvents(i,m.children().children(".tablesorter-header")),r.after(g),h.bind("scroll.tsSticky resize.tsSticky",function(t){if(r.is(":visible")){var e="tablesorter-sticky-",i=r.offset(),s=n.stickyHeaders_includeCaption?0:r.find("caption").outerHeight(!0),o=(a.length?a.offset().top:h.scrollTop())+f-s,c=r.height()-(g.height()+(u.height()||0)),d=o>i.top&&o<i.top+c?"visible":"hidden",p={visibility:d};a.length?p.top=a.scrollTop():p.left=l.offset().left-h.scrollLeft()-b,g.removeClass(e+"visible "+e+"hidden").addClass(e+d).css(p),(d!==v||"resize"===t.type)&&(x(),v=d)}}),n.stickyHeaders_addResizeEvent&&e.addHeaderResizeEvent(i),r.hasClass("hasFilters")&&(r.bind("filterEnd",function(){var i=t(document.activeElement).closest("td"),o=i.parent().children().index(i);g.hasClass(e.css.stickyVis)&&n.stickyHeaders_filteredToTop&&(window.scrollTo(0,r.position().top),o>=0&&s.$filters&&s.$filters.eq(o).find("a, select, input").filter(":visible").focus())}),e.filter.bindSearch(r,o.find("."+e.css.filter)),n.filter_hideFilters&&e.filter.hideFilters(g,s)),r.trigger("stickyHeadersInit")}},remove:function(i,s,n){s.$table.removeClass("hasStickyHeaders").unbind("pagerComplete.tsSticky").find("."+e.css.sticky).remove(),n.$sticky&&n.$sticky.length&&n.$sticky.remove(),t(".hasStickyHeaders").length||t(window).unbind("scroll.tsSticky resize.tsSticky"),e.addHeaderResizeEvent(i,!1)}}),e.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1,resizable_widths:[],resizable_throttle:!1},format:function(i,s,n){if(!s.$table.hasClass("hasResizable")){s.$table.addClass("hasResizable"),e.resizableReset(i,!0);var o,r,a,l,h,c={},d=s.$table,u=0,p=null,f=null,g=Math.abs(d.parent().width()-d.width())<20,m=function(t){if(0!==u&&p){var e=t.pageX-u,i=p.width();p.width(i+e),p.width()!==i&&g&&f.width(f.width()-e),u=t.pageX}},v=function(){e.storage&&p&&f&&(c={},c[p.index()]=p.width(),c[f.index()]=f.width(),p.width(c[p.index()]),f.width(c[f.index()]),n.resizable!==!1&&e.storage(i,"tablesorter-resizable",s.$headers.map(function(){return t(this).width()}).get())),u=0,p=f=null,t(window).trigger("resize")};if(c=e.storage&&n.resizable!==!1?e.storage(i,"tablesorter-resizable"):{})for(l in c)!isNaN(l)&&l<s.$headers.length&&s.$headers.eq(l).width(c[l]);o=d.children("thead:first").children("tr"),o.children().each(function(){var n,r=t(this);l=r.attr("data-column"),n="false"===e.getData(r,e.getColumnData(i,s.headers,l),"resizable"),o.children().filter('[data-column="'+l+'"]')[n?"addClass":"removeClass"]("resizable-false")}),o.each(function(){a=t(this).children().not(".resizable-false"),t(this).find("."+e.css.wrapper).length||a.wrapInner('<div class="'+e.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>'),n.resizable_addLastColumn||(a=a.slice(0,-1)),r=r?r.add(a):a}),r.each(function(){var i=t(this),s=parseInt(i.css("padding-right"),10)+10;i.find("."+e.css.wrapper).append('<div class="'+e.css.resizer+'" style="cursor:w-resize;position:absolute;z-index:1;right:-'+s+'px;top:0;height:100%;width:20px;"></div>')}).find("."+e.css.resizer).bind("mousedown",function(e){p=t(e.target).closest("th");var i=s.$headers.filter('[data-column="'+p.attr("data-column")+'"]');i.length>1&&(p=p.add(i)),f=e.shiftKey?p.parent().find("th").not(".resizable-false").filter(":last"):p.nextAll(":not(.resizable-false)").eq(0),u=e.pageX}),t(document).bind("mousemove.tsresize",function(t){0!==u&&p&&(n.resizable_throttle?(clearTimeout(h),h=setTimeout(function(){m(t)},isNaN(n.resizable_throttle)?5:n.resizable_throttle)):m(t))}).bind("mouseup.tsresize",function(){v()}),d.find("thead:first").bind("contextmenu.tsresize",function(){e.resizableReset(i);var s=t.isEmptyObject?t.isEmptyObject(c):!0;return c={},s})}},remove:function(t,i){i.$table.removeClass("hasResizable").children("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").children("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find("."+e.css.resizer).remove(),e.resizableReset(t)}}),e.resizableReset=function(i,s){t(i).each(function(){var n,o=this.config,r=o&&o.widgetOptions;i&&o&&(o.$headers.each(function(e){n=t(this),r.resizable_widths[e]?n.css("width",r.resizable_widths[e]):n.hasClass("resizable-false")||n.css("width","")}),e.storage&&!s&&e.storage(this,"tablesorter-resizable",{}))})},e.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(t,e,i,s){e.format(t,i,s,!0)},format:function(i,s,n,o){var r,a,l=s.$table,h=n.saveSort!==!1,c={sortList:s.sortList};s.debug&&(a=new Date),l.hasClass("hasSaveSort")?h&&i.hasInitialized&&e.storage&&(e.storage(i,"tablesorter-savesort",c),s.debug&&e.benchmark("saveSort widget: Saving last sort: "+s.sortList,a)):(l.addClass("hasSaveSort"),c="",e.storage&&(r=e.storage(i,"tablesorter-savesort"),c=r&&r.hasOwnProperty("sortList")&&t.isArray(r.sortList)?r.sortList:"",s.debug&&e.benchmark('saveSort: Last sort loaded: "'+c+'"',a),l.bind("saveSortReset",function(t){t.stopPropagation(),e.storage(i,"tablesorter-savesort","")})),o&&c&&c.length>0?s.sortList=c:i.hasInitialized&&c&&c.length>0&&l.trigger("sorton",[c]))},remove:function(t){e.storage&&e.storage(t,"tablesorter-savesort","")}})}(jQuery);